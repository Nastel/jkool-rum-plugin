 Import - java.util.UUID
 
<script src="js/lib/jkool-rum-plugin.js" type="text/javascript"></script>
<%
String id = null;
if (session.getAttribute("JK_CORR_ID") == null)
{
		id = UUID.randomUUID().toString();
     	session.setAttribute("JK_CORR_ID", id);
}
else
{
    id = (String)session.getAttribute("JK_CORR_ID");
}
String ipAddress = request.getHeader("X-FORWARDED-FOR");  
if (ipAddress == null)
  ipAddress = request.getRemoteAddr();  
String userName=(request.getRemoteUser() == null) ? "unknown-user" : request.getRemoteUser();
%>

<input type="hidden" name="corrid" id="corrid" value="<%=id%>"/>
<input type="hidden" name="username" id="username" value="<%=userName%>"/>
<input type="hidden" name="ipaddress" id="ipaddress" value="<%=ipAddress%>"/>

To mark Ajax, do the following ...
performance.mark("start_<descriptive name>");  
<javascript code being marked>
performance.mark("end_<descriptive name>");  
performance.measure('measure_<descriptive name>', 'start_<descriptive name>', 'end_<descriptive name>');